{"id":"dns/zone","type":"class","name":"Zone","description":"","source":"lib/dns/zone.js","parent":"dns","children":[],"methods":[{"id":"Zone","name":"Zone","type":"constructor","description":"<p>A Zone object is used to interact with your project&#39;s managed zone. It will help you add or delete records, delete your zone, and many other convenience methods.</p>","source":"lib/dns/zone.js#L73","resources":[],"examples":[{"code":"var gcloud = require('gcloud');\n\nvar dns = gcloud.dns({\n  keyFilename: '/path/to/keyfile.json',\n  projectId: 'grape-spaceship-123'\n});\n\nvar zone = dns.zone('zone-id');"}],"params":[],"exceptions":[],"returns":[]},{"id":"create","name":"create","type":"instance","description":"<p>Create a zone.</p>","source":"lib/dns/zone.js#L92","resources":[],"examples":[{"code":"var config = {\n  dnsName: 'example.com.',\n  // ...\n};\n\nzone.create(config, function(err, zone, apiResponse) {\n  if (!err) {\n    // The zone was created successfully.\n  }\n});"}],"params":[{"name":"config","description":"<ul> <li>See <a data-custom-type=\"dns\" data-method=\"createZone\">dns#createZone</a>.</li> </ul> ","types":["object"],"optional":false,"nullable":false}],"exceptions":[],"returns":[]},{"id":"exists","name":"exists","type":"instance","description":"<p>Check if the zone exists.</p>","source":"lib/dns/zone.js#L105","resources":[],"examples":[{"code":"zone.exists(function(err, exists) {});"}],"params":[{"name":"callback","description":"<ul> <li>The callback function.</li> </ul> ","types":["function"],"optional":false,"nullable":false},{"name":"callback.err","description":"<ul> <li>An error returned while making this request.</li> </ul> ","types":["error"],"optional":false,"nullable":true},{"name":"callback.exists","description":"<ul> <li>Whether the zone exists or not.</li> </ul> ","types":["boolean"],"optional":false,"nullable":false}],"exceptions":[],"returns":[]},{"id":"get","name":"get","type":"instance","description":"<p>Get a zone if it exists.</p><p>You may optionally use this to &quot;get or create&quot; an object by providing an object with <code>autoCreate</code> set to <code>true</code>. Any extra configuration that is normally required for the <code>create</code> method must be contained within this object as well.</p>","source":"lib/dns/zone.js#L124","resources":[],"examples":[{"code":"zone.get(function(err, zone, apiResponse) {\n  // `zone.metadata` has been populated.\n});"}],"params":[{"name":"options","description":"<ul> <li>Configuration object.</li> </ul> ","types":["options"],"optional":true,"nullable":false},{"name":"options.autoCreate","description":"<ul> <li>Automatically create the object if it does not exist. Default: <code>false</code></li> </ul> ","types":["boolean"],"optional":false,"nullable":false}],"exceptions":[],"returns":[]},{"id":"getMetadata","name":"getMetadata","type":"instance","description":"<p>Get the metadata for the zone.</p>","source":"lib/dns/zone.js#L139","resources":[{"title":"ManagedZones: get API Documentation","link":"https://cloud.google.com/dns/api/v1/managedZones/get"}],"examples":[{"code":"zone.getMetadata(function(err, metadata, apiResponse) {});"}],"params":[{"name":"callback","description":"<ul> <li>The callback function.</li> </ul> ","types":["function"],"optional":false,"nullable":false},{"name":"callback.err","description":"<ul> <li>An API error.</li> </ul> ","types":["error"],"optional":false,"nullable":true},{"name":"callback.metadata","description":"<ul> <li>Metadata of the zone from the API.</li> </ul> ","types":["object"],"optional":false,"nullable":true},{"name":"callback.apiResponse","description":"<ul> <li>Raw API response.</li> </ul> ","types":["object"],"optional":false,"nullable":false}],"exceptions":[],"returns":[]},{"id":"addRecords","name":"addRecords","type":"instance","description":"<p>Add records to this zone. This is a convenience wrapper around <a data-custom-type=\"dns/zone\" data-method=\"createChange\">dns/zone#createChange</a>.</p>","source":"lib/dns/zone.js#L167","resources":[{"title":"ManagedZones: create API Documentation","link":"https://cloud.google.com/dns/api/v1/managedZones/create"}],"examples":[],"params":[{"name":"record","description":"<ul> <li>The record objects to add.</li> </ul> ","types":["<a data-custom-type=\"dns/record\" data-method=\"\">dns/record</a>","<a data-custom-type=\"dns/record[]\" data-method=\"\">dns/record[]</a>"],"optional":false,"nullable":false},{"name":"callback.err","description":"<ul> <li>An API error.</li> </ul> ","types":["error"],"optional":false,"nullable":true},{"name":"callback.change","description":"<ul> <li>A <a data-custom-type=\"dns/change\" data-method=\"\">dns/change</a> object.</li> </ul> ","types":["<a data-custom-type=\"dns/change\" data-method=\"\">dns/change</a>"],"optional":false,"nullable":true},{"name":"callback.apiResponse","description":"<ul> <li>Raw API response.</li> </ul> ","types":["object"],"optional":false,"nullable":false}],"exceptions":[],"returns":[]},{"id":"change","name":"change","type":"instance","description":"<p>Create a reference to a change object in this zone.</p>","source":"lib/dns/zone.js#L182","resources":[],"examples":[{"code":"var change = zone.change('change-id');"}],"params":[{"name":"id","description":"<ul> <li>The change id.</li> </ul> ","types":["string"],"optional":false,"nullable":false}],"exceptions":[],"returns":[{"types":["<a data-custom-type=\"dns/change\" data-method=\"\">dns/change</a>"],"description":""}]},{"id":"createChange","name":"createChange","type":"instance","description":"<p>Create a change of resource record sets for the zone.</p>","source":"lib/dns/zone.js#L224","resources":[{"title":"ManagedZones: create API Documentation","link":"https://cloud.google.com/dns/api/v1/managedZones/create"}],"examples":[{"code":"var oldARecord = zone.record('a', {\n  name: 'example.com.',\n  data: '1.2.3.4',\n  ttl: 86400\n});\n\nvar newARecord = zone.record('a', {\n  name: 'example.com.',\n  data: '5.6.7.8',\n  ttl: 86400\n});\n\nzone.createChange({\n  add: newARecord,\n  delete: oldARecord\n}, function(err, change, apiResponse) {\n  if (!err) {\n    // The change was created successfully.\n  }\n});"}],"params":[{"name":"config","description":"<ul> <li>The configuration object.</li> </ul> ","types":["object"],"optional":false,"nullable":false},{"name":"config.add","description":"<ul> <li>Record objects to add to this zone.</li> </ul> ","types":["<a data-custom-type=\"dns/record\" data-method=\"\">dns/record</a>","<a data-custom-type=\"dns/record[]\" data-method=\"\">dns/record[]</a>"],"optional":false,"nullable":false},{"name":"config.delete","description":"<ul> <li>Record objects to delete from this zone. Be aware that the resource records here  must match exactly to be deleted.</li> </ul> ","types":["<a data-custom-type=\"dns/record\" data-method=\"\">dns/record</a>","<a data-custom-type=\"dns/record[]\" data-method=\"\">dns/record[]</a>"],"optional":false,"nullable":false},{"name":"callback","description":"<ul> <li>The callback function.</li> </ul> ","types":["function"],"optional":false,"nullable":false},{"name":"callback.err","description":"<ul> <li>An API error.</li> </ul> ","types":["error"],"optional":false,"nullable":true},{"name":"callback.change","description":"<ul> <li>A <a data-custom-type=\"dns/change\" data-method=\"\">dns/change</a> object.</li> </ul> ","types":["<a data-custom-type=\"dns/change\" data-method=\"\">dns/change</a>"],"optional":false,"nullable":true},{"name":"callback.apiResponse","description":"<ul> <li>Raw API response.</li> </ul> ","types":["object"],"optional":false,"nullable":false}],"exceptions":[],"returns":[]},{"id":"delete","name":"delete","type":"instance","description":"<p>Delete the zone.</p><p>Only empty zones can be deleted. Set options.force to <code>true</code> to call <a data-custom-type=\"dns/zone\" data-method=\"empty\">dns/zone#empty</a> before deleting the zone. Two API calls will then be made (one to empty, another to delete), which means <strong> this is not an atomic request</strong>.</p>","source":"lib/dns/zone.js#L290","resources":[{"title":"ManagedZones: delete API Documentation","link":"https://cloud.google.com/dns/api/v1/managedZones/delete"}],"examples":[{"code":"zone.delete(function(err, apiResponse) {\n  if (!err) {\n    // The zone is now deleted.\n  }\n});"},{"caption":"<p>Use <code>force</code> to first empty the zone before deleting it.</p>","code":"zone.delete({\n  force: true\n}, function(err, apiResponse) {\n  if (!err) {\n    // The zone is now deleted.\n  }\n});"}],"params":[{"name":"options","description":"<ul> <li>Configuration object.</li> </ul> ","types":["object"],"optional":true,"nullable":false},{"name":"options.force","description":"<ul> <li>Empty the zone before deleting.</li> </ul> ","types":["boolean"],"optional":false,"nullable":false},{"name":"callback","description":"<ul> <li>The callback function.</li> </ul> ","types":["function"],"optional":false,"nullable":false},{"name":"callback.err","description":"<ul> <li>An API error.</li> </ul> ","types":["error"],"optional":false,"nullable":true},{"name":"callback.apiResponse","description":"<ul> <li>Raw API response.</li> </ul> ","types":["object"],"optional":false,"nullable":false}],"exceptions":[],"returns":[]},{"id":"deleteRecords","name":"deleteRecords","type":"instance","description":"<p>Delete records from this zone. This is a convenience wrapper around <a data-custom-type=\"dns/zone\" data-method=\"createChange\">dns/zone#createChange</a>.</p><p>This method accepts <a data-custom-type=\"dns/record\" data-method=\"\">dns/record</a> objects or string record types in its place. This means that you can delete all A records or NS records, etc. If used this way, two API requests are made (one to get, then another to delete), which means <strong>the operation is not atomic</strong> and could result in unexpected changes.</p>","source":"lib/dns/zone.js#L370","resources":[{"title":"ManagedZones: create API Documentation","link":"https://cloud.google.com/dns/api/v1/managedZones/create"}],"examples":[{"code":"var oldARecord = zone.record('a', {\n  name: 'example.com.',\n  data: '1.2.3.4',\n  ttl: 86400\n});\n\nvar callback = function(err, change, apiResponse) {\n  if (!err) {\n    // Delete change modification was created.\n  }\n};\n\nzone.deleteRecords(oldARecord, callback);"},{"caption":"<p>Delete multiple records at once.</p>","code":"var oldNs1Record = zone.record('ns', {\n  name: 'example.com.',\n  data: 'ns-cloud1.googledomains.com.',\n  ttl: 86400\n});\n\nvar oldNs2Record = zone.record('ns', {\n  name: 'example.com.',\n  data: 'ns-cloud2.googledomains.com.',\n  ttl: 86400\n});\n\nzone.deleteRecords([\n  oldNs1Record,\n  oldNs2Record\n], callback);"},{"caption":"<p>Possibly a simpler way to perform the above change is deleting records by \ntype.</p>","code":"zone.deleteRecords('ns', callback);"},{"caption":"<p>You can also delete records of multiple types.</p>","code":"zone.deleteRecords(['ns', 'a'], callback);"}],"params":[{"name":"record","description":"<ul> <li>If given a string, it is interpreted as a record type. All records that match that  type will be retrieved and then deleted. You can also provide a  <a data-custom-type=\"dns/record\" data-method=\"\">dns/record</a> object or array of objects.</li> </ul> ","types":["<a data-custom-type=\"dns/record\" data-method=\"\">dns/record</a>","<a data-custom-type=\"dns/record[]\" data-method=\"\">dns/record[]</a>","string"],"optional":false,"nullable":false},{"name":"callback.err","description":"<ul> <li>An API error.</li> </ul> ","types":["error"],"optional":false,"nullable":true},{"name":"callback.change","description":"<ul> <li>A <a data-custom-type=\"dns/change\" data-method=\"\">dns/change</a> object.</li> </ul> ","types":["<a data-custom-type=\"dns/change\" data-method=\"\">dns/change</a>"],"optional":false,"nullable":true},{"name":"callback.apiResponse","description":"<ul> <li>Raw API response.</li> </ul> ","types":["object"],"optional":false,"nullable":false}],"exceptions":[],"returns":[]},{"id":"empty","name":"empty","type":"instance","description":"<p>Emptying your zone means leaving only &#39;NS&#39; and &#39;SOA&#39; records. This method will first fetch the non-NS and non-SOA records from your zone using <a data-custom-type=\"dns/zone\" data-method=\"getRecords\">dns/zone#getRecords</a>, then use <a data-custom-type=\"dns/zone\" data-method=\"createChange\">dns/zone#createChange</a> to create a deletion change.</p>","source":"lib/dns/zone.js#L396","resources":[{"title":"ManagedZones: create API Documentation","link":"https://cloud.google.com/dns/api/v1/managedZones/create"}],"examples":[],"params":[{"name":"callback","description":"<ul> <li>The callback function.</li> </ul> ","types":["function"],"optional":false,"nullable":false},{"name":"callback.err","description":"<ul> <li>An API error.</li> </ul> ","types":["error"],"optional":false,"nullable":true},{"name":"callback.change","description":"<ul> <li>A <a data-custom-type=\"dns/change\" data-method=\"\">dns/change</a> object.</li> </ul> ","types":["<a data-custom-type=\"dns/change\" data-method=\"\">dns/change</a>"],"optional":false,"nullable":true},{"name":"callback.apiResponse","description":"<ul> <li>Raw API response.</li> </ul> ","types":["object"],"optional":false,"nullable":false}],"exceptions":[],"returns":[]},{"id":"export","name":"export","type":"instance","description":"<p>Provide a path to a zone file to copy records into the zone.</p>","source":"lib/dns/zone.js#L435","resources":[{"title":"ResourceRecordSets: list API Documentation","link":"https://cloud.google.com/dns/api/v1/resourceRecordSets/list"}],"examples":[{"code":"var zoneFilename = '/Users/stephen/zonefile.zone';\n\nzone.export(zoneFilename, function(err) {\n  if (!err) {\n    // The zone file was created successfully.\n  }\n});"}],"params":[{"name":"localPath","description":"<ul> <li>The fully qualified path to the zone file.</li> </ul> ","types":["string"],"optional":false,"nullable":false},{"name":"callback","description":"<ul> <li>The callback function.</li> </ul> ","types":["function"],"optional":false,"nullable":false},{"name":"callback.err","description":"<ul> <li>An API or file system error.</li> </ul> ","types":["error"],"optional":false,"nullable":true}],"exceptions":[],"returns":[]},{"id":"getChanges","name":"getChanges","type":"instance","description":"<p>Get the list of changes associated with this zone. A change is an atomic update to a collection of records.</p>","source":"lib/dns/zone.js#L509","resources":[{"title":"Changes: get API Documentation","link":"https://cloud.google.com/dns/api/v1/changes/get"}],"examples":[{"code":"var callback = function(err, changes, nextQuery, apiResponse) {\n  // The `metadata` property is populated for you with the metadata at the\n  // time of fetching.\n  changes[0].metadata;\n\n  // However, in cases where you are concerned the metadata could have\n  // changed, use the `getMetadata` method.\n  changes[0].getMetadata(function(err, metadata) {});\n\n  if (nextQuery) {\n    // nextQuery will be non-null if there are more results.\n    zone.getChanges(nextQuery, callback);\n  }\n};\n\nzone.getChanges(callback);"},{"caption":"<p>Get the changes from your zone as a readable object stream.</p>","code":"zone.getChanges()\n  .on('error', console.error)\n  .on('data', function(change) {\n    // change is a Change object.\n  })\n  .on('end', function() {\n    // All changes retrieved.\n  });"},{"caption":"<p>If you anticipate many results, you can end a stream early to prevent \nunnecessary processing and API requests.</p>","code":"zone.getChanges()\n  .on('data', function(change) {\n    this.end();\n  });"}],"params":[{"name":"query","description":"<ul> <li>The query object.</li> </ul> ","types":["object"],"optional":true,"nullable":false},{"name":"query.maxApiCalls","description":"<ul> <li>Maximum number of API calls to make.</li> </ul> ","types":["number"],"optional":false,"nullable":false},{"name":"query.maxResults","description":"<ul> <li>Maximum number of results to return.</li> </ul> ","types":["number"],"optional":false,"nullable":false},{"name":"query.pageToken","description":"<ul> <li>The page token.</li> </ul> ","types":["string"],"optional":false,"nullable":false},{"name":"query.sort","description":"<ul> <li>Set to &#39;asc&#39; for ascending, and &#39;desc&#39; for descending or omit for no sorting.</li> </ul> ","types":["string"],"optional":false,"nullable":false},{"name":"callback","description":"<ul> <li>The callback function.</li> </ul> ","types":["function"],"optional":false,"nullable":false},{"name":"callback.err","description":"<ul> <li>An API error.</li> </ul> ","types":["error"],"optional":false,"nullable":true},{"name":"callback.changes","description":"<ul> <li>An array of <a data-custom-type=\"dns/change\" data-method=\"\">dns/change</a> objects.</li> </ul> ","types":["<a data-custom-type=\"dns/change[]\" data-method=\"\">dns/change[]</a>"],"optional":false,"nullable":true},{"name":"callback.nextQuery","description":"<ul> <li>A query object representing the next page of results.</li> </ul> ","types":["object"],"optional":false,"nullable":true},{"name":"callback.apiResponse","description":"<ul> <li>Raw API response.</li> </ul> ","types":["object"],"optional":false,"nullable":false}],"exceptions":[],"returns":[]},{"id":"getRecords","name":"getRecords","type":"instance","description":"<p>Get the list of records for this zone.</p>","source":"lib/dns/zone.js#L634","resources":[{"title":"ResourceRecordSets: list API Documentation","link":"https://cloud.google.com/dns/api/v1/resourceRecordSets/list"}],"examples":[{"code":"var callback = function(err, records, nextQuery, apiResponse) {\n  if (!err) {\n    // records is an array of Record objects.\n  }\n\n  if (nextQuery) {\n    zone.getRecords(nextQuery, callback);\n  }\n};\n\nzone.getRecords(callback);"},{"caption":"<p>Provide a query for further customization.</p>","code":"// Get the namespace records for example.com.\nvar query = {\n  name: 'example.com.',\n  type: 'NS'\n};\n\nzone.getRecords(query, callback);"},{"caption":"<p>Get the records from your zone as a readable object stream.</p>","code":"zone.getRecords()\n  .on('error', console.error)\n  .on('data', function(record) {\n    // record is a Record object.\n  })\n  .on('end', function() {\n    // All records retrieved.\n  });"},{"caption":"<p>If you anticipate many results, you can end a stream early to prevent \nunnecessary processing and API requests.</p>","code":"zone.getRecords()\n  .on('data', function(change) {\n    this.end();\n  });"},{"caption":"<p>If you only want records of a specific type or types, provide them in \nplace of the query object.</p>","code":"zone.getRecords('ns', function(err, records) {\n  if (!err) {\n    // records is an array of NS Record objects in your zone.\n  }\n});"},{"caption":"<p>You can also specify multiple record types.</p>","code":"zone.getRecords(['ns', 'a', 'cname'], function(err, records) {\n  if (!err) {\n    // records is an array of NS, A, and CNAME records in your zone.\n  }\n});"}],"params":[{"name":"query","description":"<ul> <li>The query object.</li> </ul> ","types":["object"],"optional":true,"nullable":false},{"name":"query.maxApiCalls","description":"<ul> <li>Maximum number of API calls to make.</li> </ul> ","types":["number"],"optional":false,"nullable":false},{"name":"query.maxResults","description":"<ul> <li>Maximum number of results to be returned.</li> </ul> ","types":["number"],"optional":false,"nullable":false},{"name":"query.name","description":"<ul> <li>Restricts the list to return only records with this fully qualified domain name.</li> </ul> ","types":["string"],"optional":false,"nullable":false},{"name":"query.pageToken","description":"<ul> <li>The page token.</li> </ul> ","types":["string"],"optional":false,"nullable":false},{"name":"query.type","description":"<ul> <li>Restricts the list to return only records of this type. If present, the &quot;name&quot; parameter must also be present.</li> </ul> ","types":["string"],"optional":false,"nullable":false},{"name":"callback","description":"<ul> <li>The callback function.</li> </ul> ","types":["function"],"optional":false,"nullable":false},{"name":"callback.err","description":"<ul> <li>An API error.</li> </ul> ","types":["error"],"optional":false,"nullable":true},{"name":"callback.records","description":"<ul> <li>An array of <a data-custom-type=\"dns/record\" data-method=\"\">dns/record</a> objects.</li> </ul> ","types":["<a data-custom-type=\"dns/record[]\" data-method=\"\">dns/record[]</a>"],"optional":false,"nullable":true},{"name":"callback.nextQuery","description":"<ul> <li>A query object representing the next page of results.</li> </ul> ","types":["object"],"optional":false,"nullable":true},{"name":"callback.apiResponse","description":"<ul> <li>Raw API response.</li> </ul> ","types":["object"],"optional":false,"nullable":false}],"exceptions":[],"returns":[]},{"id":"import","name":"import","type":"instance","description":"<p>Copy the records from a zone file into this zone.</p>","source":"lib/dns/zone.js#L708","resources":[{"title":"ManagedZones: create API Documentation","link":"https://cloud.google.com/dns/api/v1/managedZones/create"}],"examples":[{"code":"var zoneFilename = '/Users/dave/zonefile.zone';\n\nzone.import(zoneFilename, function(err, change, apiResponse) {\n  if (!err) {\n    // The change was created successfully.\n  }\n});"}],"params":[{"name":"localPath","description":"<ul> <li>The fully qualified path to the zone file.</li> </ul> ","types":["string"],"optional":false,"nullable":false},{"name":"callback","description":"<ul> <li>The callback function.</li> </ul> ","types":["function"],"optional":false,"nullable":false},{"name":"callback.err","description":"<ul> <li>An API or file system error.</li> </ul> ","types":["error"],"optional":false,"nullable":true},{"name":"callback.change","description":"<ul> <li>A <a data-custom-type=\"dns/change\" data-method=\"\">dns/change</a> object.</li> </ul> ","types":["<a data-custom-type=\"dns/change\" data-method=\"\">dns/change</a>"],"optional":false,"nullable":true},{"name":"callback.apiResponse","description":"<ul> <li>Raw API response.</li> </ul> ","types":["object"],"optional":false,"nullable":true}],"exceptions":[],"returns":[]},{"id":"record","name":"record","type":"instance","description":"<p>A <a data-custom-type=\"dns/record\" data-method=\"\">dns/record</a> object can be used to construct a record you want to add to your zone, or to refer to an existing one.</p><p>Note that using this method will not itself make any API requests. You will use the object returned in other API calls, for example to add a record to your zone or to delete an existing one.</p>","source":"lib/dns/zone.js#L780","resources":[],"examples":[{"caption":"<p>Reference an existing record to delete from your zone.</p>","code":"var oldARecord = zone.record('a', {\n  name: 'example.com.',\n  data: '1.2.3.4',\n  ttl: 86400\n});"},{"caption":"<p>Construct a record to add to your zone.</p>","code":"var newARecord = zone.record('a', {\n  name: 'example.com.',\n  data: '5.6.7.8',\n  ttl: 86400\n});"},{"caption":"<p>Use these records together to create a change.</p>","code":"zone.createChange({\n  add: newARecord,\n  delete: oldARecord\n}, function(err, change, apiResponse) {});"}],"params":[{"name":"type","description":"<ul> <li>The type of record to construct or the type of record you are referencing.</li> </ul> ","types":["string"],"optional":false,"nullable":false},{"name":"metadata","description":"<ul> <li>The metadata of this record.</li> </ul> ","types":["object"],"optional":false,"nullable":false},{"name":"metadata.name","description":"<ul> <li>The name of the record, e.g. <code>www.example.com.</code>.</li> </ul> ","types":["string"],"optional":false,"nullable":false},{"name":"metadata.data","description":"<ul> <li>Defined in <a href=\"https://goo.gl/9EiM0e\">RFC 1035, section 5</a> and  <a href=\"https://goo.gl/Hwhsu9\">RFC 1034, section 3.6.1</a>.</li> </ul> ","types":["string[]"],"optional":false,"nullable":false},{"name":"metadata.ttl","description":"<ul> <li>Seconds that the resource is cached by resolvers.</li> </ul> ","types":["number"],"optional":false,"nullable":false}],"exceptions":[],"returns":[{"types":["<a data-custom-type=\"dns/record\" data-method=\"\">dns/record</a>"],"description":""}]},{"id":"replaceRecords","name":"replaceRecords","type":"instance","description":"<p>Provide a record type that should be deleted and replaced with other records.</p><p><strong>This is not an atomic request.</strong> Two API requests are made (one to get records of the type that you&#39;ve requested, then another to replace them), which means the operation is not atomic and could result in unexpected changes.</p>","source":"lib/dns/zone.js#L826","resources":[{"title":"ManagedZones: create API Documentation","link":"https://cloud.google.com/dns/api/v1/managedZones/create"}],"examples":[{"code":"var newNs1Record = zone.record('ns', {\n  name: 'example.com.',\n  data: 'ns-cloud1.googledomains.com.',\n  ttl: 86400\n});\n\nvar newNs2Record = zone.record('ns', {\n  name: 'example.com.',\n  data: 'ns-cloud2.googledomains.com.',\n  ttl: 86400\n});\n\nvar newNsRecords = [\n  newNs1Record,\n  newNs2Record\n];\n\nzone.replaceRecords('ns', newNsRecords, function(err, change, apiResponse) {\n  if (!err) {\n    // The change was created successfully.\n  }\n});"}],"params":[{"name":"recordTypes","description":"<ul> <li>Type(s) of records to replace.</li> </ul> ","types":["string","string[]"],"optional":false,"nullable":false},{"name":"newRecords","description":"<ul> <li>The record objects to add.</li> </ul> ","types":["<a data-custom-type=\"dns/record\" data-method=\"\">dns/record</a>","<a data-custom-type=\"dns/record[]\" data-method=\"\">dns/record[]</a>"],"optional":false,"nullable":false},{"name":"callback","description":"<ul> <li>The callback function.</li> </ul> ","types":["function"],"optional":false,"nullable":false},{"name":"callback.err","description":"<ul> <li>An API error.</li> </ul> ","types":["error"],"optional":false,"nullable":true},{"name":"callback.change","description":"<ul> <li>A <a data-custom-type=\"dns/change\" data-method=\"\">dns/change</a> object.</li> </ul> ","types":["<a data-custom-type=\"dns/change\" data-method=\"\">dns/change</a>"],"optional":false,"nullable":true},{"name":"callback.apiResponse","description":"<ul> <li>Raw API response.</li> </ul> ","types":["object"],"optional":false,"nullable":true}],"exceptions":[],"returns":[]}]}