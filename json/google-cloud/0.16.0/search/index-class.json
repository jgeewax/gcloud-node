{"id":"search/index","type":"class","name":"Index","description":null,"source":"/lib/search/index-class.js#L60","parent":"search","children":[],"methods":[{"id":"Index","name":"Index","type":"constructor","description":"<p>Create an Index object to interact with a Google Cloud Search index.</p>","source":"/lib/search/index-class.js#L60","resources":[],"examples":[{"code":"var gcloud = require('gcloud');\n\nvar search = gcloud.search({\n  projectId: 'grape-spaceship-123'\n});\n\nvar index = search.index('records');"}],"params":[{"name":"id","description":"<ul> <li>ID of the index.</li> </ul> ","types":["string"],"optional":false,"nullable":false}],"exceptions":[],"returns":[]},{"id":"createDocument","name":"createDocument","type":"instance","description":"<p>Create a document in the index.</p>","source":"/lib/search/index-class.js#L114","resources":[],"examples":[{"caption":"<p>A document can be built using the <a data-custom-type=\"search/document\">search/document</a> object.</p>","code":"var newDocument = index.document('new-document-id');\nnewDocument.addField('person').addTextValue('Stephen');\n\nindex.createDocument(newDocument, function(err, document, apiResponse) {});"},{"caption":"<p>A document can also be created from a properly-formed object as outlined \nin the <a href=\"https://goo.gl/AYhSgI\">official docs</a>. \nThis will create the same resulting document object as the example above.</p>","code":"var newDocument = {\n  docId: 'new-document-id',\n  fields: {\n    person: {\n      values: [\n        {\n          stringFormat: 'TEXT',\n          stringValue: 'Stephen'\n        }\n      ]\n    }\n  }\n};\n\nindex.createDocument(newDocument, function(err, document, apiResponse) {});"},{"caption":"<p>Specifying an ID for your new document isn't required. In both of the \nscenarios above, simply don't specify 'new-document-id' and one will be \ngenerated for you.</p>"}],"params":[{"name":"documentObj","description":"<ul> <li>A properly-formed Document object as outlined in the  <a href=\"https://goo.gl/AYhSgI\">official docs</a>.</li> </ul> ","types":["object","<a data-custom-type=\"search/document\">search/document</a>"],"optional":false,"nullable":false},{"name":"callback","description":"<ul> <li>The callback function.</li> </ul> ","types":["function"],"optional":false,"nullable":false}],"exceptions":[],"returns":[]},{"id":"document","name":"document","type":"instance","description":"<p>Access a <a data-custom-type=\"search/document\">search/document</a> object.</p>","source":"/lib/search/index-class.js#L143","resources":[],"examples":[{"code":"var myDocument = index.document('my-document');"}],"params":[{"name":"id","description":"<ul> <li>The id of the document.</li> </ul> ","types":["string"],"optional":false,"nullable":false}],"exceptions":[],"returns":[]},{"id":"getDocuments","name":"getDocuments","type":"instance","description":"<p>Get <a data-custom-type=\"search/document\">search/document</a> objects for all of the documents in this index.</p>","source":"/lib/search/index-class.js#L194","resources":[],"examples":[{"code":"function onApiResponse(err, documents, nextQuery, apiResponse) {\n  if (err) {\n    console.error(err);\n    return;\n  }\n\n  // `documents` is an array of Document objects in this index.\n\n  if (nextQuery) {\n    index.getDocuments(nextQuery, onApiResponse);\n  }\n}\n\nindex.getDocuments(onApiResponse);"},{"caption":"<p>Customize the request using a query object.</p>","code":"index.getDocuments({\n  pageSize: 10\n}, onApiResponse);"},{"caption":"<p>Get the documents as a readable object stream.</p>","code":"index.getDocuments()\n  .on('error', console.error)\n  .on('data', function(document) {\n    // document is a Document object.\n  })\n  .on('end', function() {\n    // All documents retrieved.\n  });"}],"params":[{"name":"query","description":"<ul> <li>Query object.</li> </ul> ","types":["object"],"optional":true,"nullable":false},{"name":"query.pageSize","description":"<ul> <li>The maximum number of documents to return per page. If not specified, 100 documents are returned per page.</li> </ul> ","types":["string"],"optional":false,"nullable":false},{"name":"query.pageToken","description":"<ul> <li>A previously-returned page token representing part of the larger set of results to view.</li> </ul> ","types":["string"],"optional":false,"nullable":false},{"name":"query.view","description":"<ul> <li>One of <code>INDEX_VIEW_UNSPECIFIED</code>, <code>ID_ONLY</code>, or <code>FULL</code>. See <a href=\"https://goo.gl/sY6Lpt\">this table</a> for more details.</li> </ul> ","types":["string"],"optional":false,"nullable":false},{"name":"callback","description":"<ul> <li>The callback function.</li> </ul> ","types":["function"],"optional":false,"nullable":false}],"exceptions":[],"returns":[]},{"id":"search","name":"search","type":"instance","description":"<p>Run a query against the documents in this index.</p><p>For a full list of supported query parameters, see the <a href=\"https://goo.gl/706zrP\">JSON API documentation</a>.</p>","source":"/lib/search/index-class.js#L283","resources":[],"examples":[{"code":"function onApiResponse(err, documents, nextQuery, apiResponse) {\n  if (err) {\n    console.error(err);\n    return;\n  }\n\n  // `documents` is an array of Document objects that matched your query.\n\n  if (nextQuery) {\n    index.search(nextQuery, onApiResponse);\n  }\n}"},{"caption":"<p>Run a simple query against all documents.</p>","code":"var query = 'person:stephen';\n\nindex.search(query, onApiResponse);"},{"caption":"<p>Configure the query.</p>","code":"var query = {\n  query: 'person:stephen',\n  pageSize: 10\n};\n\nindex.search(query, onApiResponse);"},{"caption":"<p>Get the documents that match your query as a readable object stream.</p>","code":"index.search('person:stephen')\n  .on('error', console.error)\n  .on('data', function(document) {\n    // document is a Document object.\n  })\n  .on('end', function() {\n    // All search results retrieved.\n  });"}],"params":[{"name":"query","description":"<ul> <li>A query object or simply a string query.</li> </ul> ","types":["string","object"],"optional":false,"nullable":false},{"name":"query.pageSize","description":"<ul> <li>The maximum number of documents to return per page. If not specified, 100 documents are returned per page.</li> </ul> ","types":["string"],"optional":false,"nullable":false},{"name":"query.pageToken","description":"<ul> <li>A previously-returned page token representing part of the larger set of results to view.</li> </ul> ","types":["string"],"optional":false,"nullable":false},{"name":"query.query","description":"<p>= A query string using the syntax described by the <a href=\"https://goo.gl/2SYl3S\">official docs</a>.</p>","types":["string"],"optional":false,"nullable":false},{"name":"callback","description":"<ul> <li>The callback function.</li> </ul> ","types":["function"],"optional":false,"nullable":false}],"exceptions":[{"type":"error","description":"<p>If a query string or object isn&#39;t provided.</p>"}],"returns":[]}]}